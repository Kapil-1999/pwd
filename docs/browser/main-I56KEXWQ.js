import{Aa as I,Ba as M,Ca as T,Da as A,Fa as k,Ga as n,Ha as f,Ja as m,Ka as b,M as g,Ma as w,cb as E,db as L,e as l,h,m as s,n as c,o as i,p as v,pb as F,q as p,wa as y,xa as S,y as u,ya as j,za as C}from"./chunk-XSDZE57B.js";import"./chunk-P2VZOJAX.js";var N=(()=>{class r{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.getToken()?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(e){return new(e||r)(i(b),i(n))}}static{this.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var D=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:L},{path:"admin",canActivate:[N],component:w,loadChildren:()=>import("./chunk-7QOE6NBW.js").then(r=>r.AdminModule)},{path:"**",redirectTo:""}],H=(()=>{class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275mod=p({type:r})}static{this.\u0275inj=c({imports:[f.forRoot(D),f]})}}return r})();var R=(()=>{class r{constructor(t,e){this.cookieService=t,this.router=e,this.title="PWD"}ngOnInit(){}static{this.\u0275fac=function(e){return new(e||r)(u(m),u(n))}}static{this.\u0275cmp=v({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){e&1&&g(0,"router-outlet")},dependencies:[k]})}}return r})();var x=(()=>{class r{constructor(t){this.router=t}redirectToLogin(t){this.storeCurrentLocation(t),sessionStorage.removeItem("inactiveSession"),this.router.navigateByUrl("/user/home/dashboard")}storeCurrentLocation(t){sessionStorage.setItem("redirectURL",t)}static{this.\u0275fac=function(e){return new(e||r)(i(n))}}static{this.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var B=(()=>{class r{constructor(t,e,o){this.tokenService=t,this.sessionService=e,this.router=o}intercept(t,e){return t.url.startsWith("https://router.project-osrm.org/route/v1/driving/")||t.url.startsWith("https://api.ipify.org?format=json")?e.handle(t):this.tokenService.hasToken()?e.handle(t.clone({setHeaders:{Authorization:"Bearer "+this.tokenService.getToken()}})).pipe(h(o=>(this.invalidTokenError(o)&&this.sessionService.redirectToLogin(this.router.url),this.unAuthorizedError(o)&&this.sessionService.redirectToLogin(this.router.url),l(o)))):(t.headers.delete("Content-Type"),e.handle(t))}invalidTokenError(t){let e=t.error.errors;return e===void 0?!1:e.some(o=>o.type==="InvalidTokenError")}unAuthorizedError(t){let e=t.error.errors;return e===void 0?!1:e.some(o=>o.type==="UnauthorizedError")}static{this.\u0275fac=function(e){return new(e||r)(i(E),i(x),i(n))}}static{this.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var z=(()=>{class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275mod=p({type:r,bootstrap:[R]})}static{this.\u0275inj=c({providers:[T(),S(j()),{provide:y,useClass:B,multi:!0},m],imports:[M,H,A,C,F]})}}return r})();I().bootstrapModule(z).catch(r=>console.error(r));
